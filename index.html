<!DOCTYPE html>
<html lang="en">

<head>
    <title>Food Order - Maharashtrian Snacks</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background: #f8f9fa; }
        h1 { color: #d35400; }
        .menu { width: 50%; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #aaa; }
        .food-item { display: flex; justify-content: space-between; padding: 10px 0; }
        .order-form { margin-top: 20px; }
        input, button { padding: 10px; margin: 10px; width: 80%; }
        button { background: #d35400; color: white; border: none; cursor: pointer; }
        button:hover { background: #e67e22; }
        #thankYouMessage { display: none; font-size: 20px; color: green; margin-top: 20px; }
    </style>
</head>

<body>
    <h1>üçΩÔ∏è Welcome to Maharashtrian Snacks</h1>

    <div class="menu" id="orderForm">
        <h2>Today's Menu</h2>

        <div class="food-item">
            <span>üçî Vada Pav</span>
            <input type="number" id="vadapav" min="0" max="10" value="0">
        </div>

        <div class="food-item">
            <span>üî• Misal Pav</span>
            <input type="number" id="misalpav" min="0" max="10" value="0">
        </div>

        <div class="food-item">
            <span>üç™ Puran Poli</span>
            <input type="number" id="puranpoli" min="0" max="10" value="0">
        </div>

        <div class="order-form">
            <h3>Enter Your Details</h3>
            <input type="text" id="name" placeholder="Your Name" required>
            <input type="text" id="address" placeholder="Your Address" required>
            <button id="orderButton">Place Order</button>
        </div>
    </div>

    <div id="thankYouMessage">
        ‚úÖ Thank you for placing your order! We will deliver it shortly.
    </div>

    <!-- ‚úÖ Firebase SDK (Version 8 for easier integration) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        // ‚úÖ Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBIvosQmzDmApd4nMRXJDgz6kE4V__sjI4",
            authDomain: "snacks-orders.firebaseapp.com",
            databaseURL: "https://snacks-orders-default-rtdb.firebaseio.com",
            projectId: "snacks-orders",
            storageBucket: "snacks-orders.appspot.com",
            messagingSenderId: "360986868091",
            appId: "1:360986868091:web:c26ee5fd258d663a6d65de",
            measurementId: "G-C2XY3MKR0L"
        };

        // ‚úÖ Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // ‚úÖ Ensure DOM is fully loaded before attaching event
        window.addEventListener('DOMContentLoaded', () => {
            // Attach click event AFTER page loads
            document.getElementById('orderButton').addEventListener('click', placeOrder);
        });

        // ‚úÖ Function to Place Order
        function placeOrder() {
            // Collect Order Details
            const name = document.getElementById("name").value;
            const address = document.getElementById("address").value;
            const vadapav = document.getElementById("vadapav").value;
            const misalpav = document.getElementById("misalpav").value;
            const puranpoli = document.getElementById("puranpoli").value;

            // Validate Input
            if (!name || !address) {
                alert("‚ùå Please enter your name and address.");
                return;
            }

            // Create Order Object
            const order = {
                name,
                address,
                vadapav,
                misalpav,
                puranpoli,
                timestamp: new Date().toISOString()
            };

            // Send Order to Firebase
            database.ref("orders").push(order, (error) => {
                if (error) {
                    alert("‚ùå Error placing order. Please try again.");
                } else {
                    // Success Message
                    document.getElementById("orderForm").style.display = "none";
                    document.getElementById("thankYouMessage").style.display = "block";
                }
            });
        }
    </script>

</body>

</html>


